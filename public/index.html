<!DOCTYPE html>
<html class="no-js" lang="en-US">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" >
        <script src="https://player.vimeo.com/api/player.js"></script>
		<meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='//s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost:9999\/wordpress\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='http://localhost:9999/wordpress/wp-includes/css/dist/block-library/style.min.css?ver=5.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='reactpress-css'  href='http://localhost:9999/wordpress/wp-content/plugins/reactpress/public/css/reactpress-public.css?ver=1.3.0' type='text/css' media='all' />
<link rel='stylesheet' id='xploretv-css-bootstrap-css'  href='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/css/bootstrap.min.css?ver=0.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='xploretv-css-slick-css'  href='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/css/slick.css?ver=0.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='xploretv-style-css'  href='http://localhost:9999/wordpress/wp-content/themes/xploretv/assets/css/style.min.css?ver=0.9.2' type='text/css' media='all' />
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/plugins/reactpress/public/js/reactpress-public.js?ver=1.3.0' id='reactpress-js'></script>
<link rel="https://api.w.org/" href="http://localhost:9999/wordpress/wp-json/" /><link rel="alternate" type="application/json" href="http://localhost:9999/wordpress/wp-json/wp/v2/pages/38" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://localhost:9999/wordpress/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://localhost:9999/wordpress/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.8.2" />
<link rel="canonical" href="http://localhost:9999/wordpress/zeroconf-plugin-test/" />
<link rel='shortlink' href='http://localhost:9999/wordpress/?p=38' />
<link rel="alternate" type="application/json+oembed" href="http://localhost:9999/wordpress/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%3A9999%2Fwordpress%2Fzeroconf-plugin-test%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://localhost:9999/wordpress/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flocalhost%3A9999%2Fwordpress%2Fzeroconf-plugin-test%2F&#038;format=xml" />
	</head>

	<body class="page-template page-template- page-template-Users page-template-frantisekfarkas page-template-Documents page-template-Sites page-template-wordpress page-template-wp-content page-template-plugins page-template-reactpress page-template-templates page-template-react-page-template page-template-UsersfrantisekfarkasDocumentsSiteswordpresswp-contentpluginsreactpresstemplatesreact-page-template-php page page-id-38">
		        <header id="section_header" class="xploretv-homepage">
          <div class="d-flex justify-content-between align-items-center">
              <h1>ZeroConf Service Discovery</h1>
              <div id="device_container" class="d-flex align-items-center">
                                      <a href="" class="focusable">Keine Smart Home Devices gefunden</a>
                                </div>

                <script>
                    window.addEventListener('load', function() {
                        const detection_url = 'https://api.nuki.io/discover/bridges';
                        var request = $.ajax({
                            url: detection_url,
                            method: "GET"
                        });

                        request.done(function( msg ) {
                            var devices_cookie = getCookie('devices');
                            if (devices_cookie === null) {
                                var now = new Date();
                                var time = now.getTime();
                                var expireTime = time + 5 * 60 * 1000; // Expire in 5 minutes.
                                now.setTime(expireTime);
                                var cookie_content = [];
                                if (msg.bridges.length !== 0) {
                                    cookie_content = [{name: 'Nuki', href: '/devices/nuki'}];
                                }
                                document.cookie = 'devices=' + JSON.stringify(cookie_content) + ';expires=' + now.toUTCString() + ';path=/';
                            }

                            devices_cookie = getCookie('devices');
                            devices = JSON.parse(devices_cookie);
                            var device_container_content = '';
                            if (devices.length !== 0) {
                                device_container_content += 'Erkannte Geräte: ';
                                $.each(devices, function(key, device) {
                                    device_container_content += '<a class="button focusable ml-2 mb-0" href="' + device.href + '">' + device.name + '</a>';
                                });
                            } else {
                                device_container_content = '<a href="" class="focusable">Keine Smart Home Devices gefunden</a>';
                            }
                            $('#device_container').html(device_container_content);
                        });

                        request.fail(function( jqXHR, textStatus ) {
                            console.log( "Device detection failed: " + textStatus );
                        });

                        // Add section to SN
                        SpatialNavigation.add('section_header', {
                            selector: '#section_header .focusable',
                            leaveFor: {
                                up: '',
                                down: '@section_0',
                                left: '',
                                right: ''
                            }
                        });
                    });
                </script>

              <div id="js-xploretv-date-time" class="xploretv-date-time">
                  <span class="js-xploretv-date"></span>
                  <span class="xploretv-line mx-1">|</span>
                  <span class="js-xploretv-time"></span>
              </div>
          </div>
        </header>
<!-- Please don't change. Block is needed for React app. --><noscript>You need to enable JavaScript to run this app.</noscript>
<div id="root"> </div>
    	<!--
    	<footer>
    		Footer content goes here
    	</footer>
    	-->

/* <![CDATA[ */
var reactPress = {"user":{"data":{},"ID":0,"caps":[],"cap_key":null,"roles":[],"allcaps":[],"filter":null},"usermeta":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/js/jquery-3.5.1.min.js?ver=0.9.2' id='xploretv-js-jquery-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/js/bootstrap.min.js?ver=0.9.2' id='xploretv-js-bootstrap-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/js/slick.min.js?ver=0.9.2' id='xploretv-js-slick-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/js/jquery.validate.min.js?ver=0.9.2' id='xploretv-js-validate-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/lib/js/spatial_navigation.js?ver=0.9.2' id='xploretv-js-spatial-navigation-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-content/themes/xploretv/assets/js/script.min.js?ver=0.9.2' id='xploretv-js-js'></script>
<script type='text/javascript' src='http://localhost:9999/wordpress/wp-includes/js/wp-embed.min.js?ver=5.8.2' id='wp-embed-js'></script>
        <script>
            var tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            var playerInfoList = [];
            var players = [];

            var item = $('.js-yt-video-frame');
            $(item).each(function(i, obj){
                var player = $(this).attr('id');
                var num = $(this).attr('data-num');
                var videoId = $(this).attr('data-src');

                playerInfoList.push({id:player, videoId:videoId, num:num});
            });

            function onYouTubeIframeAPIReady() {
                if (typeof playerInfoList === 'undefined') { return };

                for (var i = 0; i < playerInfoList.length; i++) {
                    var curplayer = createPlayer(playerInfoList[i]);
                    players[i] = curplayer;
                }
            }

            function createPlayer(playerInfoList) {
                return new YT.Player(playerInfoList.id, {
                    videoId: playerInfoList.videoId,
                    playerVars: {
                       mute: 0,
                       autoplay: 0,
                       controls: 0,
                       autohide: 1,
                       wmode: "opaque",
                       showinfo: 0,
                       loop: 0,
                       rel: 0,
                       //origin: 'http://xploretv-smarthome.apptank.at'
                       origin: 'WP_HOME'
                     }
                });
             }

            // Functions
            setTimeout(function(){
                for (var i = 0; i < playerInfoList.length; i++) {
                    var functionPlay = "playVideoYT"+playerInfoList[i].num;
                    window[functionPlay] = function(e) {
                        $(players).each(function (i) {
                            if(this.h.id == $(e).attr('data-id')){

                                if(e.classList.contains('js-video-slider-btn')){
                                    if(e.classList.contains('slider-video-play')){
                                        this.pauseVideo();
                                        e.classList.remove('slider-video-play');
                                        e.classList.remove('xploretv-d-pause');
                                        e.classList.add('xploretv-d-play');
                                        $('.yt-poster[data-id="'+this.h.id+'"]').fadeTo("fast", 1);
                                    } else {
                                         this.playVideo();
                                         e.classList.add('slider-video-play');
                                         //e.classList.add('a1xploretv-d-pause');
                                         e.classList.remove('xploretv-d-play');
                                         $('.yt-poster[data-id="'+this.h.id+'"]').fadeTo("fast", 0);
                                    }
                                }else {
                                    this.playVideo();
                                }
                            }
                        });
                    };

                    var functionPause = "pauseVideoYT"+playerInfoList[i].num;
                    window[functionPause] = function() {
                        $(players).each(function (i) {
                            if(this.h.id == $(e).attr('data-id')){
                                this.pauseVideo();
                            }
                        });
                    };
                }
            }, 500);
        </script>
	</body>
</html>
